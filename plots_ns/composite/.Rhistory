library(reshape)
install.packages("reshape")
library(reshape)
library(ggplot2)
alphas = c("0.0001", 0.5, "1.0") #, "0.10101")
n_alphas  = length(alphas)
data_vec = c("t_skw", "t_central", "bim", "het", "composite")
j = 0
data = data_vec[j]
base_dir <- paste0("/home/simon/Desktop/implicit-variational-inference/ns_tests/results/", data, "/")
setwd(base_dir)
data = data_vec[j]
base_dir <- paste0("/home/simon/Desktop/implicit-variational-inference/ns_tests/results/", data, "/")
setwd(base_dir)
x_train <- read.table("x_train_0.txt")[,1]
y_train <- read.table("y_train_0.txt")[,1]
base_dir
data = data_vec[j]
data
j
j = 1
data = data_vec[j]
base_dir <- paste0("/home/simon/Desktop/implicit-variational-inference/ns_tests/results/", data, "/")
setwd(base_dir)
x_train <- read.table("x_train_0.txt")[,1]
y_train <- read.table("y_train_0.txt")[,1]
i = 1
setwd(base_dir)
results_file <- paste0(as.character(alphas[i]), "/test_results_", as.character(alphas[i]), "_split_0.csv")
results <- read.csv(results_file)
names(results) <- c("x", "y", (1:(ncol(results) - 2 )))
head(results)
setwd(base_dir)
results_file <- paste0(as.character(alphas[i]), "/test_results_", as.character(alphas[i]), "_split_0.csv")
results <- read.csv(results_file)
names(results) <- c("x", "y", (1:(ncol(results) - 2 )))
results <- results[,1:50]
results$mean_estimate <- rowMeans(results[, 3:ncol(results)])
head(results)
results$mean_estimate <- rowMeans(results[, 3:ncol(results)])
melted <- melt( results, id.vars = c("x", "y", "mean_estimate"), variable_name = "sample")
plot_dir <- paste0("/home/simon/Desktop/implicit-variational-inference/synthetic_data/plots/", data, "/")
setwd(plot_dir)
plot(melted$x, melted$value, pch = 20, col = rgb(0,0,1, alpha = 0.05), main = paste(data, ", ", "alpha =", alphas[i]),
xlab = "", ylab = "", cex.main = 3, cex.axis = 2,
ylim = c(min(min(melted$y), min(melted$value)), max(max(melted$y), max(melted$value))))
points(x_train, y_train, col = rgb(0,0,0, alpha = 0.7), pch = 4)
library(reshape)
library(ggplot2)
alphas = c("0.0001", 0.5, "1.0") #, "0.10101")
#alphas = c( 0.9, "1.0") #, "0.10101")
n_alphas  = length(alphas)
data_vec = c("t_skw", "t_central", "bim", "het", "composite")
# data_vec = c("composite")
for (j in 1:length(data_vec)){
data = data_vec[j]
base_dir <- paste0("/home/simon/Desktop/implicit-variational-inference/ns_tests/results/", data, "/")
setwd(base_dir)
x_train <- read.table("x_train_0.txt")[,1]
y_train <- read.table("y_train_0.txt")[,1]
for (i in 1:n_alphas){
setwd(base_dir)
results_file <- paste0(as.character(alphas[i]), "/test_results_", as.character(alphas[i]), "_split_0.csv")
results <- read.csv(results_file)
names(results) <- c("x", "y", (1:(ncol(results) - 2 )))
results <- results[,1:50]
results$mean_estimate <- rowMeans(results[, 3:ncol(results)])
melted <- melt( results, id.vars = c("x", "y", "mean_estimate"), variable_name = "sample")
plot_dir <- paste0("/home/simon/Desktop/implicit-variational-inference/synthetic_data/plots/", data, "/")
setwd(plot_dir)
#png()
setwd(paste0("/home/simon/Desktop/implicit-variational-inference/ns_tests/plots/", data, "/"))
png(file = paste0(alphas[i], ".png"), width=16, height=8, units = "in", res = 500) #, pointsize=12)
plot(melted$x, melted$value, pch = 20, col = rgb(0,0,1, alpha = 0.05), main = paste(data, ", ", "alpha =", alphas[i]),
xlab = "", ylab = "", cex.main = 3, cex.axis = 2,
ylim = c(min(min(melted$y), min(melted$value)), max(max(melted$y), max(melted$value))))
points(x_train, y_train, col = rgb(0,0,0, alpha = 0.7), pch = 4)
# lines(melted$x, melted$mean_estimate, col = rgb(1,0,0, alpha = 1))
dev.off()                                                                                                                                                                                                                                                                                                                     #dev.off()
# res_plot <- ggplot(melted, aes(x, y)) + geom_point( color = "black", alpha = 0.2, shape = 4) + theme_bw() +
#   theme(legend.position = "none") +
#   ggtitle(paste0("Heteroscedastic data - alpha = ", alphas[i])) +
#   xlab("") + ylab("y") + theme(plot.title = element_text(hjust = 0.5)) +
#   geom_point(aes(x, value), color = "blue", alpha = 0.01, size = 0.3) +
#   geom_line(aes(x, mean_estimate), color = "red") +  #xlim(-2, 2) +
#   geom_point(aes(x, y), color = "black", alpha = 0.5, shape = 4)
#
# ggsave(filename = paste0(alphas[i], "_", data, ".png"), width=10, height=5, pointsize=12, units = "cm")
#res_plot
#dev.off()
}
}
library(reshape)
library(ggplot2)
alphas = c("0.0001", 0.5, "1.0") #, "0.10101")
#alphas = c( 0.9, "1.0") #, "0.10101")
n_alphas  = length(alphas)
data_vec = c("t_skw", "t_central", "bim", "het", "composite")
# data_vec = c("composite")
for (j in 1:length(data_vec)){
data = data_vec[j]
base_dir <- paste0("/home/simon/Desktop/implicit-variational-inference/ns_tests/results/", data, "/")
setwd(base_dir)
x_train <- read.table("x_train_0.txt")[,1]
y_train <- read.table("y_train_0.txt")[,1]
for (i in 1:n_alphas){
setwd(base_dir)
results_file <- paste0(as.character(alphas[i]), "/test_results_", as.character(alphas[i]), "_split_0.csv")
results <- read.csv(results_file)
names(results) <- c("x", "y", (1:(ncol(results) - 2 )))
results <- results[,1:50]
results$mean_estimate <- rowMeans(results[, 3:ncol(results)])
melted <- melt( results, id.vars = c("x", "y", "mean_estimate"), variable_name = "sample")
plot_dir <- paste0("/home/simon/Desktop/implicit-variational-inference/synthetic_data/plots/", data, "/")
setwd(plot_dir)
#png()
setwd(paste0("/home/simon/Desktop/implicit-variational-inference/ns_tests/plots/", data, "/"))
png(file = paste0(alphas[i], ".png"), width=16, height=8, units = "in", res = 500) #, pointsize=12)
plot(melted$x, melted$value, pch = 20, col = rgb(0,0,1, alpha = 0.05), main = paste(data, ", ", "alpha =", alphas[i]),
xlab = "", ylab = "", cex.main = 3, cex.axis = 2,
ylim = c(min(min(melted$y), min(melted$value)), max(max(melted$y), max(melted$value))))
points(x_train, y_train, col = rgb(0,0,0, alpha = 0.7), pch = 4)
# lines(melted$x, melted$mean_estimate, col = rgb(1,0,0, alpha = 1))
dev.off()                                                                                                                                                                                                                                                                                                                     #dev.off()
# res_plot <- ggplot(melted, aes(x, y)) + geom_point( color = "black", alpha = 0.2, shape = 4) + theme_bw() +
#   theme(legend.position = "none") +
#   ggtitle(paste0("Heteroscedastic data - alpha = ", alphas[i])) +
#   xlab("") + ylab("y") + theme(plot.title = element_text(hjust = 0.5)) +
#   geom_point(aes(x, value), color = "blue", alpha = 0.01, size = 0.3) +
#   geom_line(aes(x, mean_estimate), color = "red") +  #xlim(-2, 2) +
#   geom_point(aes(x, y), color = "black", alpha = 0.5, shape = 4)
#
# ggsave(filename = paste0(alphas[i], "_", data, ".png"), width=10, height=5, pointsize=12, units = "cm")
#res_plot
#dev.off()
}
}
